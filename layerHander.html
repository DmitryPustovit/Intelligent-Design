<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css">
	

	<title></title>


</head>
<body>
	<div id="layers" style="position: relative;">
		<canvas id="layer1" width="500" height="500" 
	   	style="position: absolute; left: 0; top: 0; z-index: 0; border:1px solid #000000;"></canvas>
	</div>
	
	
	<script>
	arrayLayer = ["1"];
	function layerHander() {
		canvas = document.getElementById("layer" + arrayLayer.length);
		createLayer("layers",(arrayLayer.length+1), canvas.width, canvas.height)
		var newbutton = document.createElement('BUTTON');
		var t = document.createTextNode("layer" + (arrayLayer.length + 1));
		newbutton.appendChild(t);
		newbutton.onclick = function() {selectLayer(arrayLayer.length+1);};
		var div = document.getElementById("layersgroup");
		div.appendChild(newbutton);
		arrayLayer.push((arrayLayer.length+1));
	}

	function selectLayer(number) {
		canvas.getElementById("layer" + number);
		ctx = canvas.getContext('2d');
	}

	function createLayer(divid, number, width, height) {
		var canvas = document.createElement('canvas');
        	div = document.getElementById(divid); 
        	canvas.id     = ("layer"+number);
        	canvas.width  = width;
        	canvas.height = height;
        	canvas.style.zIndex   = number-1;
        	canvas.style.position = "absolute";
        	div.appendChild(canvas);
	}

	</script>
	<div style="position:absolute; right:0" id="layersgroup">
		<button onclick="selectLayer(1);">Layer1</button>
		
	</div>		
	<div>
		<button style="position:absolute; bottom:0" onclick="layerHander();"> <img src ="selection-Tool-512.png"></button>
	</div>

</body>
</html
